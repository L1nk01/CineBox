@model Application.ViewModels.SeriesViewModels.SeriesViewModel

@{
    ViewData["Title"] = $"Watching {Model.Name}";
    var embedUrl = Model.VideoLink.Replace("watch?v=", "embed/");
}

<div class="container">
    <h1>@Model.Name</h1>
    <div class="d-flex flex-row justify-content-between">
        <div>
            <h4 class="text-muted">@Model.ProducerName</h4>
        </div>
        <div>
        <small class="bg-primary text-white rounded" style="padding: 4px 10px;">@Model.PrimaryGenreName</small>
        @if (!string.IsNullOrEmpty(Model.SecondaryGenreName))
        {
            <small class="bg-secondary text-white rounded m-0" style="padding: 4px 10px;">@Model.SecondaryGenreName</small>
        }
        </div>
    </div>
    <iframe 
        src="@embedUrl" 
        title="@Model.Name" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
        referrerpolicy="strict-origin-when-cross-origin" 
        allowfullscreen
        style="width: 100%; height: 700px;">
    </iframe>
    <div class="d-flex flex-row justify-content-between">
        <div>
            <p class="text-muted">&copy; @Model.ProducerName</p>
        </div>
        <div>
            <a href="@Model.VideoLink" class="btn btn-sm btn-primary" target="_blank">Open in another tab</a>
        </div>
    </div>
</div>